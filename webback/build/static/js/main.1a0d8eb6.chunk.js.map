{"version":3,"sources":["weekling_logo_1.png","index.js"],"names":["App","timesArray","daysArray","checkColor","event","box","target","cont","parentNode","checked","style","backgroundColor","window","onload","maara","i","paiva","document","getElementById","dayNow","Date","now","getDay","toString","j","checkCont","createElement","className","id","appendChild","check","x","type","addEventListener","createChecks","search","location","params","URLSearchParams","eventName","get","hours","undefined","charset","href","src","logo","alt","class","onClick","inputElements","getElementsByClassName","suitableTimes","length","z","split","y","trimLeft","c","setDate","setHours","setMinutes","setSeconds","setMonth","setMilliseconds","console","log","push","notyf","Notyf","error","success","axios","put","times","then","response","data","setTimeout","reload","ReactDOM","render"],"mappings":"qLAAe,G,MAAA,IAA0B,6C,QCQnCA,G,MAAM,WAGR,IAAIC,EAAa,CACb,CAAC,MACD,CAAC,MACD,CAAC,MACD,CAAC,MACD,CAAC,MACD,CAAC,MACD,CAAC,MACD,CAAC,MACD,CAAC,MACD,CAAC,MACD,CAAC,MACD,CAAC,OAIDC,EAAY,CACZ,CAAC,MACD,CAAC,MACD,CAAC,MACD,CAAC,MACD,CAAC,MACD,CAAC,MACD,CAAC,MACD,CAAC,MACD,CAAC,OAyDL,SAASC,EAAWC,GAChB,IAAIC,EAAMD,EAAME,OACZC,EAAOF,EAAIG,WACXH,EAAII,QACJF,EAAKG,MAAMC,gBAAkB,UAG7BJ,EAAKG,MAAMC,gBAAkB,UAXrCC,OAAOC,OAAS,YAyBhB,SAAsBC,GAClB,IAAK,IAAIC,EAAI,EAAGA,GAAK,EAAGA,IAAK,CACzB,IAAIC,EAAQC,SAASC,eAAeH,GAChCI,EAAS,IAAIC,KAAKA,KAAKC,OAAOC,SAASC,WAC7B,GAAVJ,IAAeF,SAASC,eAAe,GAAGR,MAAMC,gBAAkB,WAClEQ,GAAUJ,IACVE,SAASC,eAAeH,GAAGL,MAAMC,gBAAkB,WAGvD,IAAK,IAAIa,EAAI,EAAGA,EAAIV,EAAOU,IAAK,CAC5B,IAAIC,EAAYR,SAASS,cAAc,OACvCD,EAAUE,UAAY,iBACtBF,EAAUG,GAAK,YAAcb,EAAIS,EACjCC,EAAUf,MAAMC,gBAAkB,UAClCK,EAAMa,YAAYJ,GAElB,IAAIK,EAAQb,SAASS,cAAc,SACnCD,EAAUI,YAAYC,GACtBA,EAAMH,UAAY,QAClB,IAAII,EAAC,UAAMhB,EAAN,aAAYS,GACjBM,EAAMF,GAAKG,EACXD,EAAME,KAAO,WACbF,EAAMG,iBAAiB,SAAU9B,GAAY,KA9CrD+B,CAAa,KAmDjB,IAAMC,EAASvB,OAAOwB,SAASD,OACzBE,EAAS,IAAIC,gBAAgBH,GAC7BI,EAAYF,EAAOG,IAAI,SACzBC,EAAQJ,EAAOG,IAAI,SAGvB,YAFYE,GAATD,IAA4BA,EAAQ,IAGnC,iCACI,iCACI,sBAAME,QAAQ,UACd,sBAAMX,KAAK,WAAWY,KAAK,cAC3B,wBAAQC,IAAI,WAAZ,kBAEJ,uBAAMjB,GAAG,UAAT,UACI,sBAAKA,GAAG,kBAAR,UACI,mBAAGgB,KAAK,IAAR,SAAY,qBAAKC,IAAG,UAAKC,GAAQC,IAAI,WACrC,sBAAKnB,GAAG,UAAR,cAAmB,uCAAQW,KAA3B,UAEJ,qBAAKX,GAAG,WACR,qBAAKA,GAAG,eAAR,SACI,mBAAGA,GAAG,oBAAN,4DAEJ,sBAAKA,GAAG,YAAR,UACI,uBAAOoB,MAAM,OAAb,SACI,oBAAIA,MAAM,OAAV,SACI,oBAAIA,MAAM,OAAV,SACI,wBAAOrB,UAAU,YAAjB,kBACJ,qBAAKqB,MAAM,OAAX,SACY,mBAAGA,MAAM,SAAT,mBAEJ,qBAAKA,MAAM,OAAX,SACI,mBAAGA,MAAM,SAAT,oBAEJ,qBAAKA,MAAM,OAAX,SACI,mBAAGA,MAAM,SAAT,qBAEJ,qBAAKA,MAAM,OAAX,SACI,mBAAGA,MAAM,SAAT,qBAEJ,qBAAKA,MAAM,OAAX,SACI,mBAAGA,MAAM,SAAT,qBAEJ,qBAAKA,MAAM,OAAX,SACI,mBAAGA,MAAM,SAAT,qBAEJ,qBAAKA,MAAM,OAAX,SACI,mBAAGA,MAAM,SAAT,qBAEJ,qBAAKA,MAAM,OAAX,SACI,mBAAGA,MAAM,SAAT,qBAEJ,qBAAKA,MAAM,OAAX,SACI,mBAAGA,MAAM,SAAT,qBAEJ,qBAAKA,MAAM,OAAX,SACI,mBAAGA,MAAM,SAAT,qBAEJ,qBAAKA,MAAM,OAAX,SACI,mBAAGA,MAAM,SAAT,qBAEJ,qBAAKA,MAAM,OAAX,SACI,mBAAGA,MAAM,SAAT,8BAMpB,qBAAIA,MAAM,IAAV,UACI,oBAAIA,MAAM,OAAV,SACI,qBAAKA,MAAM,QAAQpB,GAAG,IAAtB,sBAEJ,oBAAIoB,MAAM,OAAV,SACI,qBAAKA,MAAM,QAAQpB,GAAG,IAAtB,uBAEJ,oBAAIoB,MAAM,OAAV,SACI,qBAAKA,MAAM,QAAQpB,GAAG,IAAtB,yBAEJ,oBAAIoB,MAAM,OAAV,SACI,qBAAKA,MAAM,QAAQpB,GAAG,IAAtB,wBAEJ,oBAAIoB,MAAM,OAAV,SACI,qBAAKA,MAAM,QAAQpB,GAAG,IAAtB,sBAEJ,oBAAIoB,MAAM,OAAV,SACI,qBAAKA,MAAM,QAAQpB,GAAG,IAAtB,wBAEJ,oBAAIoB,MAAM,OAAV,SACI,qBAAKA,MAAM,QAAQpB,GAAG,IAAtB,4BAIZ,wBAAQA,GAAG,aAAaqB,QAhMf,WAQjB,IAPA,IAAIC,EAAgBjC,SAASkC,uBAAuB,SAChDC,EAAgB,GAEdjB,EAASvB,OAAOwB,SAASD,OAEzBP,EADS,IAAIU,gBAAgBH,GACjBK,IAAI,MAEbzB,EAAI,EAAGA,EAAImC,EAAcG,SAAUtC,EACxC,GAAImC,EAAcnC,GAAGN,QAAS,CAC1B,IAAI6C,EAAKJ,EAAcnC,GAAGa,GAAI2B,MAAM,KAChCxB,EAAIuB,EAAE,GACNE,EAAIF,EAAE,GAAGG,WAGTC,EAAI,IAAItC,KACZsC,EAAEC,QAAQzD,EAAU6B,GAAGR,YACvBmC,EAAEE,SAAS3D,EAAWuD,GAAGjC,YACzBmC,EAAEG,WAAW,GACbH,EAAEI,WAAW,GACbJ,EAAEK,SAAS,GACXL,EAAEM,gBAAgB,GAClBC,QAAQC,IAAIR,GAEZN,EAAce,KAAKT,GAK3B,IAAMU,EAAQ,IAAIC,IACR,MAANzC,GAA2B,IAAbA,EAAGyB,QAAgBe,EAAME,MAAM,eACpB,IAAzBlB,EAAcC,OAAmBe,EAAME,MAAM,gDAG7CF,EAAMG,QAAQ,YACdC,IAAMC,IAAI,IAAK,CACXC,MAAOtB,EACPxB,GAAIA,IAEH+C,MAAK,SAACC,GACHX,QAAQC,IAAIU,EAASC,SACtB,SAACP,GACAL,QAAQC,IAAII,EAAMM,aAG1BE,YAAW,WAAclE,OAAOwB,SAAS2C,WAAY,OAmJjD,0BAMhBC,IAASC,OAAO,cAAC,EAAD,IAAShE,SAASC,eAAe,W","file":"static/js/main.1a0d8eb6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/weekling_logo_1.614b898b.png\";","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport axios from 'axios'\nimport './pohja.css';\nimport logo from './weekling_logo_1.png';\nimport { Notyf } from 'notyf';\nimport 'notyf/notyf.min.css';\n\nconst App = () => {\n\n    // Taulukko mahdollisista kellonajoista\n    var timesArray = [\n        ['08'],\n        ['09'],\n        ['10'],\n        ['11'],\n        ['12'],\n        ['13'],\n        ['14'],\n        ['15'],\n        ['16'],\n        ['17'],\n        ['18'],\n        ['19']\n    ]\n\n    // Taulukko päivistä, maanantai on 01, tiistai 02, jne.\n    var daysArray = [\n        ['00'],\n        ['01'],\n        ['02'],\n        ['03'],\n        ['04'],\n        ['05'],\n        ['06'],\n        ['07'],\n        ['00']\n    ]\n\n    // Uusien aikojen lisääminen\n    const handleSubmit = () => {\n        var inputElements = document.getElementsByClassName('check')\n        var suitableTimes = []\n\n        const search = window.location.search;\n        const params = new URLSearchParams(search)\n        const id = params.get('id')\n\n        for (var i = 0; i < inputElements.length; ++i) {\n            if (inputElements[i].checked) {\n                var z = (inputElements[i].id).split(',')\n                var x = z[0]\n                var y = z[1].trimLeft()\n\n                // Luodaan tietojen pohjalta uusi Date()\n                var c = new Date()\n                c.setDate(daysArray[x].toString())\n                c.setHours(timesArray[y].toString())\n                c.setMinutes(0)\n                c.setSeconds(0)\n                c.setMonth(0)\n                c.setMilliseconds(0)\n                console.log(c)\n\n                suitableTimes.push(c)\n            }\n        }\n\n        // Notifikaatiot lisäyksen onnistumisesta ja epäonnistumisesta\n        const notyf = new Notyf()\n        if (id == null || id.length != 24) { notyf.error('Id is wrong') }\n        if (suitableTimes.length === 0)    { notyf.error('Please, select some times before submitting') }\n        \n        else {\n            notyf.success('Success!')\n            axios.put('/', {\n                times: suitableTimes,\n                id: id\n            })\n                .then((response) => {\n                    console.log(response.data)\n                }, (error) => {\n                    console.log(error.response)\n                })\n\n            setTimeout(function () { window.location.reload() }, 3000)\n        }\n    }\n\n    window.onload = function () {\n        createChecks(12)\n    }\n\n    function checkColor(event) {\n        var box = event.target\n        var cont = box.parentNode\n        if (box.checked) {\n            cont.style.backgroundColor = '#c3a41e'\n        }\n        else {\n            cont.style.backgroundColor = '#292929'\n        }\n    }\n\n    function checkColour(checkId, contId, x) {\n        if (document.getElementById(checkId).checked) {\n            console.log(\"klikattu\")\n            document.getElementById(contId).style.backgroundColor = '#000000'\n        }\n        else {\n            document.getElementById(contId).style.backgroundColor = \"FFFFFF\"\n        }\n    }\n\n    function createChecks(maara) {\n        for (let i = 1; i <= 7; i++) {\n            var paiva = document.getElementById(i)\n            var dayNow = new Date(Date.now()).getDay().toString()\n            if (dayNow == 0) { document.getElementById(7).style.backgroundColor = '#c3a41e'}\n            if (dayNow == i) { \n                document.getElementById(i).style.backgroundColor = '#c3a41e'\n            }\n\n            for (let j = 0; j < maara; j++) {\n                let checkCont = document.createElement(\"div\")\n                checkCont.className = \"checkcontainer\"\n                checkCont.id = 'checkCont' + i + j\n                checkCont.style.backgroundColor = '#292929'\n                paiva.appendChild(checkCont)\n\n                let check = document.createElement('input')\n                checkCont.appendChild(check)\n                check.className = 'check'\n                var x = `${i}, ${j}` // määritellään id\n                check.id = x\n                check.type = 'checkbox'\n                check.addEventListener('change', checkColor, false)\n            }\n        }\n    }\n\n    const search = window.location.search;\n    const params = new URLSearchParams(search)\n    const eventName = params.get('event')\n    var hours = params.get('hours') \n    if(hours == undefined || null) hours = 12\n\n    return (\n        <html>\n            <head>\n                <meta charset=\"UTF-8\" />\n                <link type=\"text/css\" href=\"pohja.css\" />\n                <script src=\"index.js\"> </script>\n            </head>\n            <body id=\"vartalo\">\n                <div id=\"headerContainer\">\n                    <a href=\"/\"><img src={`${logo}`} alt=\"logo\" /></a>\n                    <div id=\"otsikko\"> <h3>{`${eventName}`}</h3> </div>\n                </div>\n                <div id=\"header\"></div>\n                <div id=\"instructions\">\n                    <p id=\"instructions-text\">Please select available times and press Send</p>\n                </div>\n                <div id=\"kalenteri\">\n                    <aside class=\"sivu\">\n                        <ul class=\"left\">\n                            <li class=\"ajat\">\n                                <label className=\"ajatLabel\">Times\n                            <div class=\"time\">\n                                        <p class=\"teksti\">8-9</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">9-10</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">10-11</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">11-12</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">12-13</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">13-14</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">14-15</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">15-16</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">16-17</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">17-18</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">18-19</p>\n                                    </div>\n                                    <div class=\"time\">\n                                        <p class=\"teksti\">19-20</p>\n                                    </div>\n                                </label>\n                            </li>\n                        </ul>\n                    </aside>\n                    <ul class=\"k\">\n                        <li class=\"date\">\n                            <div class=\"group\" id='1'>Monday</div>\n                        </li>\n                        <li class=\"date\">\n                            <div class=\"group\" id='2'>Tuesday</div>\n                        </li>\n                        <li class=\"date\">\n                            <div class=\"group\" id='3'>Wednesday</div>\n                        </li>\n                        <li class=\"date\">\n                            <div class=\"group\" id='4'>Thursday</div>\n                        </li>\n                        <li class=\"date\">\n                            <div class=\"group\" id='5'>Friday</div>\n                        </li>\n                        <li class=\"date\">\n                            <div class=\"group\" id='6'>Saturday</div>\n                        </li>\n                        <li class=\"date\">\n                            <div class=\"group\" id='7'>Sunday</div>\n                        </li>\n                    </ul>\n                </div>\n                <button id=\"sendButton\" onClick={handleSubmit}>Send</button>\n            </body>\n        </html>\n    )\n}\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}